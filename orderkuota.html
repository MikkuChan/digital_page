<!DOCTYPE html>
<html lang="id" class="light-mode">
<head>
  <meta charset="UTF-8" />
  <title>Order Kuota â€“ fadzdigital</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Beli kuota XL via fadzdigital. Bayar jasa ke kami via Duitku, lalu kami teruskan ke provider." />
  <link rel="icon" href="https://raw.githubusercontent.com/fadzdigital/image/main/favicon.ico" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />

  <!-- Global & Page CSS -->
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/orderkuota.css" rel="stylesheet" />
</head>
<body>
  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner"></div>
  </div>

  <!-- Navbar (konsisten) -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
        <img src="https://raw.githubusercontent.com/fadzdigital/image/main/fadzdigital.png" alt="fadzdigital Logo" style="height:38px;width:auto;object-fit:contain" />
        <span class="text-gradient" style="font-size:2rem;font-weight:700">fadzdigital</span>
      </a>
      <button class="navbar-toggler border-0 p-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Beranda</a></li>
          <li class="nav-item"><a class="nav-link" href="index.html#features">Fitur</a></li>
          <li class="nav-item"><a class="nav-link" href="ordervpn.html">Order VPN</a></li>
          <li class="nav-item"><a class="nav-link" href="tutorial.html">Tutorial</a></li>
          <li class="nav-item"><a class="nav-link active" href="tools.html">Tools</a></li>
          <li class="nav-item"><a class="nav-link" href="index.html#contact">Kontak</a></li>
        </ul>
        <div class="d-flex align-items-center gap-3">
          <a href="https://wa.me/6285727035336" class="btn btn-success d-none d-lg-inline-flex">WhatsApp</a>
          <a href="https://t.me/fadzdigital" class="btn btn-primary">Telegram</a>
        </div>
      </div>
    </div>
  </nav>

  <main style="margin-top:90px;min-height:100vh;">
    <!-- Hero -->
    <section class="kuota-hero text-center font-display py-5 mb-0"
      style="background: linear-gradient(180deg, #f9fafb 60%, #ecfeff 100%);">
      <div class="container">
        <span class="badge-tools mb-4 px-4 py-2 fs-6 d-inline-flex align-items-center">
          <i class="bi bi-bag-check me-2"></i>Order Kuota XL via fadzdigital
        </span>
        <h1 class="display-5 fw-bold mb-3" style="letter-spacing:-1px;color:#333">
          Beli <span class="text-gradient" style="-webkit-background-clip:text;-webkit-text-fill-color:transparent;background:linear-gradient(90deg,#8b5cf6,#06b6d4)">Kuota XL</span> instan
        </h1>
        <p class="lead mx-auto mb-4" style="max-width:720px;color:#666">
          User bayar jasa ke <b>fadzdigital</b> via Duitku. Setelah sukses, sistem meneruskan pembelian ke upstream (hesda).
        </p>
      </div>
    </section>

    <!-- Stepper + Login Card -->
    <section class="container py-4">
      <div class="row justify-content-center g-4">
        <div class="col-lg-10">
          <div class="fdz-stepper my-3">
            <div class="fdz-step">
              <div class="circle active">1</div>
              <div class="label">Login Nomor</div>
            </div>
            <div class="fdz-step">
              <div class="circle">2</div>
              <div class="label">Pilih Paket</div>
            </div>
            <div class="fdz-step">
              <div class="circle">3</div>
              <div class="label">Bayar & Selesaikan</div>
            </div>
          </div>

          <div class="card shadow-sm fdz-card">
            <div class="card-body">
              <div class="row g-3 align-items-end">
                <div class="col-md-5">
                  <label class="form-label fw-semibold">Nomor XL (format 08â€¦ / 62â€¦ / +62â€¦)</label>
                  <input type="tel" id="inpMsisdn" class="form-control" placeholder="0877xxxxxxxx" />
                  <div class="form-text">Nomor ini akan dicek sesinya & dipakai saat order.</div>
                </div>
                <div class="col-md-7 d-flex gap-2 flex-wrap">
                  <button id="btnCheckSession" class="btn btn-outline-primary">
                    <i class="bi bi-shield-check me-1"></i>Cek Sesi
                  </button>
                  <button id="btnSendOtp" class="btn btn-primary">
                    <i class="bi bi-envelope-check me-1"></i>Kirim OTP
                  </button>
                  <div class="input-group otp-group" style="max-width:320px;">
                    <input type="text" id="inpOtp" class="form-control" placeholder="Kode OTP" inputmode="numeric" />
                    <button id="btnVerifyOtp" class="btn btn-success"><i class="bi bi-unlock me-1"></i>Verifikasi</button>
                  </div>
                  <span id="loginState" class="badge bg-secondary align-self-center">Belum login</span>
                </div>
              </div>
              <div id="loginHint" class="small text-muted mt-2">
                OTP otomatis: kamu tidak perlu paste <em>auth_id</em>. Cukup masukkan kode OTP dari SMS.
              </div>
            </div>
          </div>

          <!-- Info paket aktif -->
          <div id="activePackages" class="card shadow-sm fdz-card mt-3" style="display:none;">
            <div class="card-body">
              <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
                <h5 class="mb-0">Paket Aktif di Nomor Ini</h5>
                <button id="btnRefreshDetail" class="btn btn-sm btn-outline-secondary">
                  <i class="bi bi-arrow-clockwise me-1"></i>Refresh
                </button>
              </div>
              <div id="detailBody" class="mt-3"></div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Katalog Kuota -->
    <section class="container py-4">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
            <h4 class="mb-0">Paket Tersedia</h4>
            <div class="d-flex gap-2">
              <input type="text" id="searchBox" class="form-control" placeholder="Cari paketâ€¦" />
              <select id="methodFilter" class="form-select" style="max-width:180px;">
                <option value="">Semua Metode</option>
                <option value="DANA">DANA</option>
                <option value="QRIS">QRIS</option>
                <option value="PULSA">PULSA</option>
              </select>
            </div>
          </div>
          <div id="catalogGrid" class="row g-3"></div>
        </div>
      </div>
    </section>

    <!-- Panel Pembayaran -->
    <section class="container pb-5">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div id="payPanel" class="card shadow-sm fdz-card" style="display:none;">
            <div class="card-body">
              <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-2">
                <h5 class="mb-0">Selesaikan Pembayaran</h5>
                <span id="payMethodBadge" class="badge bg-info"></span>
              </div>
              <div id="payInfo" class="small text-muted mb-3"></div>
              <div id="deeplinkWrap" class="mb-3" style="display:none;">
                <a id="deeplinkBtn" target="_blank" rel="noopener" class="btn btn-primary">
                  <i class="bi bi-wallet2 me-1"></i>Buka E-Wallet / DANA
                </a>
              </div>
              <div id="qrisWrap" class="mb-3" style="display:none;">
                <canvas id="qrisCanvas"></canvas>
                <div class="small text-muted mt-2">Scan QRIS dengan E-Wallet/Mbanking. Jangan di-screenshot blur.</div>
              </div>
              <div class="d-flex align-items-center gap-3">
                <div id="countdown" class="badge bg-warning text-dark"></div>
                <button id="btnResetPayPanel" class="btn btn-outline-secondary btn-sm">
                  <i class="bi bi-x-circle me-1"></i>Tutup Panel
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer class="py-4" style="background: var(--gray-900); color:var(--gray-100)">
    <div class="container text-center">
      <div class="mb-2">
        <span class="fw-bold font-display text-gradient" style="font-size:1.3rem;">fadzdigital</span>
      </div>
      <div class="mb-2 small">
        &copy; 2025 fadzdigital. All rights reserved.<br />
        Made with ðŸ’™ in Indonesia
      </div>
      <div>
        <a href="index.html" class="text-primary small text-decoration-none mx-2">Beranda</a>
        <a href="ordervpn.html" class="text-primary small text-decoration-none mx-2">Order VPN</a>
        <a href="tutorial.html" class="text-primary small text-decoration-none mx-2">Tutorial</a>
        <a href="tools.html" class="text-primary small text-decoration-none mx-2">Tools</a>
        <a href="index.html#contact" class="text-primary small text-decoration-none mx-2">Kontak</a>
      </div>
    </div>
  </footer>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  <script src="js/orderkuota.js"></script>
  <script>
    window.addEventListener('load', function () {
      setTimeout(function () {
        const ol = document.getElementById('loadingOverlay');
        if (!ol) return;
        ol.style.opacity = '0';
        setTimeout(() => ol.style.display = 'none', 600);
      }, 400);
    });
  </script>
</body>
</html>
